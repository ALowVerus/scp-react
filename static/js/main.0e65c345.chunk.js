(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(11),r=a.n(s),i=a(104),c=a(106),o=(a(52),a(6)),m=a(7),d=a(9),u=a(8),p=a(10),h=a(16),g=a(105),b=a(24),v=(a(61),a(103)),E=a(44),f=a(45),N=a.n(f),k=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"checkActive",value:function(e){return e===this.props.page?"active":void 0}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Navbar"},l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",id:"navbar"},l.a.createElement("div",{className:"container"},l.a.createElement(v.a,{onClick:function(){return e.props.handleLinkClick("homepage")},to:"/"},l.a.createElement("div",{className:"d-inline-flex flex-row"},l.a.createElement("div",{className:"p-2 no-padding"},l.a.createElement("img",{className:"navbar-icon",src:N.a,alt:"SCP Foundation"})),l.a.createElement("div",{className:"p-2 no-padding text-left"},l.a.createElement("h1",{className:"navbar-brand no-margin no-padding"},"SCP Foundation"),l.a.createElement("br",null),l.a.createElement("h3",{className:"navbar-brand no-margin no-padding"},"Secure, Contain, Protect")))),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},E.map(function(e){var t=this;return l.a.createElement("li",{className:"nav-item",key:e.id},l.a.createElement(v.a,{className:"nav-link "+this.checkActive(e.target),to:"/"+e.target,onClick:function(){return t.props.handleLinkClick(e.target)}},e.name))},this))))),l.a.createElement("div",{className:"navbar-margin"}))}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Homepage"},l.a.createElement("div",{className:"homepage-header"},l.a.createElement("h3",null,"WARNING: THE FOUNDATION DATABASE IS"),l.a.createElement("h1",null,"CLASSIFIED"),l.a.createElement("h4",null,"ACCESS BY UNAUTHORIZED PERSONNEL IS",l.a.createElement("br",null),"STRICTLY PROHIBITED"),l.a.createElement("h4",null,"PERPETRATORS WILL BE TRACKED, LOCATED, AND DETAINED")),l.a.createElement("div",{className:"container card"},l.a.createElement("div",{className:"card-body"},"Hi! Im ALowVerus, and Im trying to create a port of the Foundation website off the WikiDot site."),l.a.createElement("div",{className:"row card-body"},l.a.createElement("h3",{className:"col-md-12"},"Goals:"),l.a.createElement("div",{className:"col-md-12 card"},"Complete port of Wikidot site votes, comments, tags, and other data"),l.a.createElement("div",{className:"col-md-6 card"},"Smooth page transitions"),l.a.createElement("div",{className:"col-md-6 card"},"Full user login functionality"),l.a.createElement("div",{className:"col-md-6 card"},"Full sandbox functionality"),l.a.createElement("div",{className:"col-md-6 card"},"Retention of Wikidot markup functionality")),l.a.createElement("div",{className:"card-body"},l.a.createElement("p",null,"The Rails API repo is available at:"),l.a.createElement("h5",null,l.a.createElement("a",{href:"https://github.com/ALowVerus/scp-rails-api",target:"_blank",rel:"noopener noreferrer"},'"https://github.com/ALowVerus/scp-rails-api"')),l.a.createElement("p",null,"The React front-end repo is available at:"),l.a.createElement("h5",null,l.a.createElement("a",{href:"https://github.com/ALowVerus/scp-react",target:"_blank",rel:"noopener noreferrer"},'"https://github.com/ALowVerus/scp-react"')),l.a.createElement("p",null,"Progress is tracked at Trello:"),l.a.createElement("h5",null,l.a.createElement("a",{href:"https://trello.com/b/xosE6utC/scp-website",target:"_blank",rel:"noopener noreferrer"},'"https://trello.com/b/xosE6utC/scp-website"')))))}}]),t}(n.Component),C=a(14),S=a.n(C),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={thousands:"",hundreds:0,scips:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.updateView(0,0)}},{key:"updateThousands",value:function(e){this.setState({thousands:e}),console.log(e.toString()+" "+this.state.hundreds.toString()),this.updateView(e,this.state.hundreds)}},{key:"updateHundreds",value:function(e){this.setState({hundreds:e}),console.log(this.state.thousands.toString()+" "+e.toString()),this.updateView(this.state.thousands,e)}},{key:"updateView",value:function(e,t){var a=this,n=e.toString()+t.toString()+"00",l=e.toString()+t.toString()+"99";S.a.get(this.props.db_address+"pages?first_scip_index="+n+"&last_scip_index="+l,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){a.setState({scips:e.data}),console.log(e)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=parseInt(this.state.hundreds.toString()+"00");return l.a.createElement("div",{className:"MainlistView row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h1",null,"Mainlist Articles")),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",null,"Series:"),l.a.createElement("ul",{className:"list-group"},["",1,2,3,4].map(function(t){return l.a.createElement("li",{className:"list-group-item",key:t,onClick:function(){return e.updateThousands(t)}},t,"000")}))),l.a.createElement("div",{className:"col-3"},l.a.createElement("h3",null,"Centile:"),l.a.createElement("ul",{className:"list-group"},[0,1,2,3,4,5,6,7,8,9].map(function(t){return l.a.createElement("li",{className:"list-group-item",key:t,onClick:function(){return e.updateHundreds(t)}},t,"00")}))),l.a.createElement("div",{className:"col-6"},l.a.createElement("h3",null,"SCiP:"),l.a.createElement("ul",{className:"list-group page-limited set-height"},this.state.scips.map(function(e){if(t+=1,null!==e){var a=e.url.substr(28),n=encodeURIComponent(e.url.substr(24));return l.a.createElement(v.a,{to:"/"+n,key:a},l.a.createElement("li",{className:"list-group-item"},"SCP-",a))}return l.a.createElement("li",{className:"list-group-item",key:t},"Open Entry")}))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={canons:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get(this.props.db_address+"pages?tag=hub",{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(t){e.setState({canons:t.data}),console.log(t)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"MainlistView row"},l.a.createElement("div",{className:"col-12 mx-auto"},l.a.createElement("h1",null,"Canons"),l.a.createElement("ul",{className:"list-group"},this.state.canons.map(function(e){var t=encodeURIComponent(e.url.substr(24));return l.a.createElement(v.a,{to:"/"+t,key:t},l.a.createElement("li",{className:"list-group-item"},e.url))}))))}}]),t}(n.Component),T=a(25),j=a.n(T),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={page_id:"",innerHTML:"",collapsibleToggles:[],pageTags:[],discussOpened:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get(this.props.db_address+"pages?url=http://www.scp-wiki.net/"+this.props.url,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(t){e.setState({page_id:t.data[0].id,innerHTML:t.data[0].html,pageTags:t.data[1]}),console.log(t),e.sanitizePage()}).catch(function(t){e.setState({innerHTML:"ERROR 404: Page not found."}),console.log(t)})}},{key:"sanitizePage",value:function(){var e=this,t=r.a.findDOMNode(this),a=t.getElementsByClassName("yui-navset");if(null!==a)for(var n,l,s,i,c=0;c<a.length;c++){(l=(n=a[c]).getElementsByClassName("yui-nav")[0]).className="yui-nav nav navbar-nav",s=l.children,i=n.getElementsByClassName("yui-content")[0].children;for(var o=0;o<s.length;o++)s[o].onclick=function(t){e.updateTabs(t)},s[o].id="nav-"+c.toString()+"-"+o.toString(),s[o].innerHTML=s[o].textContent,i[o].id="content-"+c.toString()+"-"+o.toString()}var m=t.getElementsByClassName("collapsible-block");if(null!==m)for(var d,u,p,h,g,b=0;b<m.length;b++){(d=m[b]).id="collapsible-"+b.toString(),u=d.getElementsByClassName("collapsible-block-folded")[0],p=d.getElementsByClassName("collapsible-block-unfolded")[0],u.id="collapsible-"+b.toString()+"-folded",p.id="collapsible-"+b.toString()+"-unfolded",h=u.getElementsByClassName("collapsible-block-link"),g=p.getElementsByClassName("collapsible-block-unfolded-link");for(var v=0;v<h.length;v++)h[v].innerHTML=h[v].textContent,h[v].id="folded-link-"+b.toString()+"-"+v.toString(),h[v].onclick=function(t){e.switchCollapse(t)};for(var E=0;E<g.length;E++){var f=g[E].getElementsByClassName("collapsible-block-link")[0];f.id="unfolded-link-"+b.toString()+"-"+E.toString(),f.onclick=function(t){e.switchCollapse(t)}}var N=this.state.collapsibleToggles;N.push(!1),this.setState({collapsibleToggles:N})}var k=t.querySelector(".Page-html").querySelectorAll("a");console.log(k);for(var y=0;y<k.length;y++)"/"===k[y].pathname.charAt(0)&&(console.log(k[y]),k[y].pathname="#"+k[y].pathname)}},{key:"updateTabs",value:function(e){var t,a,n,l=((e=e||window.event).target||e.srcElement).id.split("-"),s=l[1],i=l[2];a=(t=r.a.findDOMNode(this).getElementsByClassName("yui-navset")[s]).getElementsByClassName("yui-nav nav navbar-nav")[0].children,n=t.getElementsByClassName("yui-content")[0].children;for(var c=!1,o=-1;!1===c;)"selected"===a[o+=1].className&&(c=!0);var m=a[o],d=a[i],u=n[o],p=n[i];m.className="",d.className="selected",u.style="display:none",p.style=""}},{key:"switchCollapse",value:function(e){var t=r.a.findDOMNode(this),a=((e=e||window.event).target||e.srcElement).id.split("-")[2],n=t.querySelector("#collapsible-"+a.toString()+"-folded"),l=t.querySelector("#collapsible-"+a.toString()+"-unfolded");if(!0===this.state.collapsibleToggles[a]){n.style="display:block",l.style="display:none";var s=this.state.collapsibleToggles;s[a]=!1,this.setState({collapsibleToggles:s})}else{n.style="display:none",l.style="display:block";var i=this.state.collapsibleToggles;i[a]=!0,this.setState({collapsibleToggles:i})}}},{key:"discussClicked",value:function(){var e=r.a.findDOMNode(this).querySelector("#discussion");!0===this.state.discussOpened?(e.style="",this.setState({discussOpened:!1})):(e.style="display:block",this.setState({discussOpened:!0}))}},{key:"render",value:function(){var e=this,t={url:window.location.href,identifier:this.props.url,title:this.props.url};return l.a.createElement("div",{className:"Page"},l.a.createElement("div",{className:"Page-html col-12",dangerouslySetInnerHTML:{__html:this.state.innerHTML}}),l.a.createElement("div",{className:"Page-footer"},l.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},this.state.pageTags.map(function(e){return l.a.createElement("div",{className:"pd-2",key:e.id},e.name," /")})),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("div",{className:"p-2",onClick:function(){return e.discussClicked()}},l.a.createElement("button",{type:"button",className:"btn btn-link"},"Discuss")),l.a.createElement("div",{className:"p-2"},l.a.createElement("button",{type:"button",className:"btn btn-link"},"Rate")),l.a.createElement("div",{className:"p-2"},l.a.createElement("button",{type:"button",className:"btn btn-link"},"Edit"))),l.a.createElement("div",{className:"Discussion col-md-8 mx-auto",id:"discussion"},l.a.createElement(j.a.CommentCount,{shortname:"example",config:t},"Comments"),l.a.createElement(j.a.DiscussionEmbed,{shortname:"example",config:t})),l.a.createElement("div",{className:"d-flex justify-content-around App"},l.a.createElement("div",{className:"p-2"},"Unless otherwise stated, the content of this page is licensed under ",l.a.createElement("br",null),l.a.createElement("a",{href:"http://creativecommons.org/licenses/by-sa/3.0/",target:"_blank",rel:"noopener noreferrer"},"Creative Commons Attribution-ShareAlike 3.0 License.")))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={db_address:"https://scp-rails-api.herokuapp.com/",page:"homepage"},a.handleLinkClick=a.handleLinkClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleLinkClick",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(k,{page:this.state.page,handleLinkClick:this.handleLinkClick}),l.a.createElement(c.a,{render:function(t){var a=t.location;return l.a.createElement(b.TransitionGroup,{className:"Content container"},l.a.createElement(b.CSSTransition,{key:a.key,timeout:500,classNames:"fade"},l.a.createElement(g.a,{location:a},l.a.createElement(c.a,{exact:!0,path:"/",render:function(e){return l.a.createElement("div",{className:"page"},l.a.createElement(y,null))}}),l.a.createElement(c.a,{exact:!0,path:"/mainlist",render:function(t){return l.a.createElement("div",{className:"page"},l.a.createElement(O,{db_address:e.state.db_address}))}}),l.a.createElement(c.a,{exact:!0,path:"/hubs",render:function(t){return l.a.createElement("div",{className:"page"},l.a.createElement(w,{db_address:e.state.db_address}))}}),l.a.createElement(c.a,{exact:!0,path:"/:url",render:function(t){return l.a.createElement("div",{className:"page"},l.a.createElement(A,{db_address:e.state.db_address,url:t.match.params.url}))}}))))}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(i.a,null,l.a.createElement(c.a,{path:"/",component:x})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},44:function(e){e.exports=[{id:0,name:"Mainlist",target:"mainlist"},{id:1,name:"Hubs",target:"hubs"}]},45:function(e,t,a){e.exports=a.p+"static/media/foundation_brand.850b91ef.png"},47:function(e,t,a){e.exports=a(102)},52:function(e,t,a){},61:function(e,t,a){}},[[47,2,1]]]);
//# sourceMappingURL=main.0e65c345.chunk.js.map